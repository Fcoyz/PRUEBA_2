<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel = "stylesheet" href="css/style.css">

    <!-- jQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
    <!-- Títulod del sitio -->
    <title>Formulario de contacto</title>

    <!--JQUERY-->
    <script>
        $(document).ready(function () {
            $("#error").hide();

            recargarlista();

            $("#region").change(function () {
                recargarlista();
            });

            $("#form").submit(function () {
                var mensaje = "";
                if ($("#nom").val().trim().lenght == 0) {
                    mensaje = "Campo en blanco";
                }
                if ($("#ape").val().trim().lenght == 0) {
                    mensaje = "Campo en blanco";
                }
                if ($("#tel").val().trim().lenght == 0) {
                    mensaje = "Campo en blanco";
                }
                if ($("#mail").val().trim().lenght == 0) {
                    mensaje = "Campo en blanco";
                }
                if (mensaje != "") {
                    $("#error").html(mensaje);
                    $("#error").show();
                    event.preventDefault();
                }
                alert("Formulario enviado")
            });

        })

    </script>
    <script type="text/javascript">
        function recargarlista() {
            $.ajax({
                type: "GET",
                url: "https://apis.digital.gob.cl/dpa/regiones/",
                data: $("#region").val() + "/comunas",
                success: function (r) {
                    $("#comunas").html(r)
                }
            });
        }

    </script>
</head>

<body>
    <header>
    <!-- Navbar menú-->
    <!-- Navbar menú-->
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #F5B041;">
        <div class="container-fluid">
          <h4 class="navbar-brand">
            <svg src="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hearts" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M4.931.481c1.627-1.671 5.692 1.254 0 5.015-5.692-3.76-1.626-6.686 0-5.015Zm6.84 1.794c1.084-1.114 3.795.836 0 3.343-3.795-2.507-1.084-4.457 0-3.343ZM7.84 7.642c2.71-2.786 9.486 2.09 0 8.358-9.487-6.268-2.71-11.144 0-8.358Z"/>
              </svg> Tus Mascotas Store</h4>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="../index.html">Inicio</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="../sub_pag/nosotros.html">Nosotros</a>
              </li>
              
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="../sub_pag/tienda.html" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Tienda
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <li><a class="dropdown-item" href="../sub_pag/tienda_bandanas.html">Bandanas</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="../sub_pag/tienda_correas.html">Correas</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="../sub_pag/tienda_identifica.html">Identificadores</a></li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="../sub_pag/donaciones.html">Donaciones</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="../sub_pag/contacto.html">Contacto</a>
              </li>
            </ul>
            <span class="navbar-text">
                Con tu compra estarás ayudando a la Fundación Callejeritos Chile 
            </span>
          </div>
        </div>
      </nav>
    
<br>
<!--Formulario de Contacto-->
<div id="recargar">
    <main id="formulario">
        <div class="container-fluid">
            <div class="row row-cols-2">
                <form id="form" action="" method="post" class="row g-4 needs-validation">
                    <div class="form-group">
                        <legend>Formulario de contacto</legend>
                        <p class="note">Campos marcados con * son obligatorios</p>
                        <label for="1nomb" class="form-label">Nombres :*</label>
                        <div class="col-md-4">
                            <input type="text" class="form-control" id="nom" name="nom" placeholder="Juanita"
                                minlength="3" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="2apell" class="form-label">Apellidos :</label>
                        <div class="col-md-4">
                            <input type="text" class="form-control" id="ape" name="2apell" placeholder="González"
                                minlength="3">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-4">
                            <label for="3telef" class="form-label">Teléfono de contacto :</label>
                            <input type="tel" class="form-control" id="tel" name="3telef" placeholder="(569) 87654321"
                                pattern="\([0-9]{3}\) [0-9]{8}">
                        </div>
                    </div>
                    <div class="form-group">

                        <label for="4email" class="form-label">Ingresa tu correo :*</label>
                        <div class="col-md-4">
                            <input type="email" class="form-control" id="mail" name="mail" placeholder="hola@correo.com"
                                pattern=".+@.+\.com|.+@.+\.cl" minlength="12" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-3">
                            <label for="5region" class="form-label">Seleccciona Región</label>
                            <select class="form-control" name="5region" id="region">
                                <option selected disabled value="">seleccionar...</option>
                                <option value="15">Arica</option>
                                <option value="01">Iquique</option>
                                <option value="02">Antofagasta</option>
                                <option value="03">Atacama</option>
                                <option value="04">Coquimbo</option>
                                <option value="05">Valparaíso</option>
                                <option value="13">Metropolitana</option>
                                <option value="06">O'Higgins</option>
                                <option value="07">Maule</option>
                                <option value="16">Ñuble</option>
                                <option value="08">Bíobío</option>
                                <option value="09">Araucanía</option>
                                <option value="14">Los Ríos</option>
                                <option value="10">Los Lagos</option>
                                <option value="11">Aysén</option>
                                <option value="12">Magallanes</option>
                            </select>
                        </div>
                        <br>
                        <div id="comunas"></div>
                    </div>
                    <div class="form-group">
                        <div class="col-12">
                            <input type="submit" class="btn btn-primary" id="enviar" value="Enviar">
                            <input type="reset" class="btn btn-primary" id="limpiar" value="Limpiar">
                        </div>
                        <div id="error" class="alert alert-danger" role="alert"></div>
                    </div>
                </form>
            </div>
            <div class="row">
                <img src="https://arc-anglerfish-arc2-prod-infobae.s3.amazonaws.com/public/NVWQSYGX3RC7ZBEHLPLDVXA3PU.jpg"
                    class="d-block w-100">
            </div>

        </div>
    </main>
</div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js" integrity="sha512-37T7leoNS06R80c8Ulq7cdCDU5MNQBwlYoy1TX/WUsLFC2eYNqtKlV0QjH7r8JpG/S0GUMZwebnVFLPd6SU5yg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="js/validacion-formularios.js"></script>
</body>

</html>